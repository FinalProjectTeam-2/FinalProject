<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.finalproject.festival.mapper.BasketMapper" >
	
	<!--  장바구니 목록보기 mysql OK -->
	<select id="basketList" resultType="Basket" >
		SELECT 
		b.basketno AS basketno,
		m.id AS id,
		p.productno AS productno,
		b.basketproductcount,
		p.productprice AS productprice
		
		FROM ShoppingBasket b, Product p, Member m
		
		WHERE b.productno = p.productno
		AND b.id = m.id
		ORDER BY
		b.basketno
	</select>
	
	<!-- 장바구니 확인하기 mysql OK -->
	<select id="checkBasket" resultType="Basket" >
			SELECT * FROM
			ShoppingBasket
			WHERE id=#{id} 
			AND productno =#{productno}
	</select>
	
	<insert id="insertBasket" >
		INSERT INTO ShoppingBasket
				(id, productno, basketproductcount)
		
			VALUES( #{id}, #{productno}, #{basketproductcount})
	</insert>
	
	<resultMap id="basketResultMap" type="Basket" >
		<id property="basketno" column="basketno" />
		<result property="productno" column="productno" />
		<result property="id" column="id" />
		<result property="basketproductcount" column="basketproductcount" />
	</resultMap>
	
</mapper>	



