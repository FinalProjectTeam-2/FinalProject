<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.finalproject.festival.mapper.BasketMapper" >
	
	<select id="basketList" resultType="Basket" >
		SELECT 
		b.basketno AS basketno,
		m.id AS id,
		p.productno AS productno,
		b.basketproductcount,
		p.productprice AS productprice,
		(productprice * basketproductcount ) productprice
		
		FROM ShoppingBasket b, Product p, Member m
		
		WHERE b.productno = p.productno
		AND b.id = m.id
		ORDER BY
		b.basketno
	</select>
	
	<resultMap id="basketResultMap" type="Basket" >
		<id property="basketno" column="basketno" />
		<result property="productno" column="productno" />
		<result property="id" column="id" />
		<result property="basketproductcount" column="basketproductcount" />
	</resultMap>
	
</mapper>	



